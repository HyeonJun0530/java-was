<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link href="/reset.css" rel="stylesheet"/>
    <link href="/global.css" rel="stylesheet"/>
    <link href="/main.css" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <header class="header">
        <a href="/main"><img src="/img/signiture.svg"/></a>
        <ul class="header__menu">
            ${login}
        </ul>
    </header>
    <div class="wrapper">
        <div class="post">
            <div class="post__title">
                <h1 class="post__title__text">${article.title}</h1>
            </div>
            <div class="post__account">
                <img class="post__account__img"/>
                <p class="post__account__nickname">${article.user.name}</p>
            </div>
            <img class="post__img" src=${article.image}/>
            <div class="post__menu">
                <ul class="post__menu__personal">
                    <li>
                        <button class="post__menu__btn">
                            <img src="/img/like.svg"/>
                        </button>
                    </li>
                    <li>
                        <button class="post__menu__btn">
                            <img src="/img/sendLink.svg"/>
                        </button>
                    </li>
                </ul>
                <button class="post__menu__btn">
                    <img src="/img/bookMark.svg"/>
                </button>
            </div>
            <p class="post__article">
                ${article.content}
            </p>
        </div>
        <ul class="comment">
            ${comments}
            <button class="btn btn_ghost btn_size_m">
                <a class="btn btn_contained btn_size_s" href="/article">글쓰기</a>
            </button>
        </ul>
        <nav class="nav">
            <ul class="nav__menu">
                <script>
                    var isNextAvailable = ${isNext};
                </script>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        const currentArticleId = parseInt(window.location.pathname.split('/').pop(), 10);
                        const prevArticleId = currentArticleId - 1;
                        const nextArticleId = currentArticleId + 1;

                        const prevLink = document.querySelector('.nav__menu__item__btn[href=""][data-direction="prev"]');
                        const nextLink = document.querySelector('.nav__menu__item__btn[href=""][data-direction="next"]');

                        if (!isNaN(currentArticleId)) {
                            if (prevArticleId >= 1) { // Assuming article IDs start at 1
                                prevLink.href = '/' + prevArticleId;
                            } else {
                                prevLink.style.pointerEvents = 'none';
                                prevLink.style.opacity = '0.5';
                            }

                            if (isNextAvailable) {
                                nextLink.href = '/' + nextArticleId;
                            } else {
                                nextLink.style.pointerEvents = 'none';
                                nextLink.style.opacity = '0.5';
                            }
                        }
                    });
                </script>
                <li class="nav__menu__item">
                    <a class="nav__menu__item__btn" data-direction="prev" href="">
                        <img
                                class="nav__menu__item__img"
                                src="/img/ci_chevron-left.svg"
                        />
                        이전 글
                    </a>
                </li>
                <li class="nav__menu__item">
                    <a class="btn btn_ghost btn_size_m" href="/comment">댓글 작성</a>
                </li>
                <li class="nav__menu__item">
                    <a class="nav__menu__item__btn" data-direction="next" href="">
                        다음 글
                        <img
                                class="nav__menu__item__img"
                                src="/img/ci_chevron-right.svg"
                        />
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
</body>
</html>
